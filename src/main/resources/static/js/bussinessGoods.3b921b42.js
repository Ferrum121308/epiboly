(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["bussinessGoods"],{"16a3":function(t,o,e){"use strict";e.r(o);var a=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",[e("div",{staticClass:"crumbs"},[e("el-breadcrumb",{attrs:{separator:"/"}},[e("el-breadcrumb-item",[e("i",{staticClass:"el-icon-lx-cascades"}),t._v(" 商家上新货物\n            ")])],1)],1),e("el-card",[e("el-button",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"primary"},on:{click:t.addGoods}},[t._v("新增货物")]),e("el-table",{attrs:{data:t.tableData}},[e("el-table-column",{attrs:{prop:"goodId",label:"货物Id"}}),e("el-table-column",{attrs:{prop:"goodName",label:"货物名称"}}),e("el-table-column",{attrs:{prop:"goodPrice",label:"单价"}}),e("el-table-column",{attrs:{prop:"goodStatus",label:"租赁类型"}}),e("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(o){return[e("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.handleEdit(o.$index,o.row)}}},[t._v("编辑")]),e("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return t.handleDelete(o.$index,o.row)}}},[t._v("删除")])]}}])})],1),e("el-dialog",{attrs:{title:"新增货物",visible:t.editVisible,width:"30%"},on:{"update:visible":function(o){t.editVisible=o}}},[e("el-form",{ref:"form",attrs:{model:t.form,"label-width":"70px"}},[e("el-form-item",{attrs:{label:"货物名称"}},[e("el-input",{model:{value:t.form.goodName,callback:function(o){t.$set(t.form,"goodName",o)},expression:"form.goodName"}})],1),e("el-form-item",{attrs:{label:"租赁单价"}},[e("el-input",{model:{value:t.form.goodPrice,callback:function(o){t.$set(t.form,"goodPrice",o)},expression:"form.goodPrice"}})],1),e("el-form-item",{attrs:{label:"租赁模式"}},[e("el-dropdown",{on:{command:t.handleCommand}},[e("el-button",{attrs:{type:"primary"}},[t._v("\n                            "+t._s(t.buttonName)+"\n                            "),e("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e("el-dropdown-item",{attrs:{command:"1"}},[t._v("先租后买")]),e("el-dropdown-item",{attrs:{command:"2"}},[t._v("以租代售")]),e("el-dropdown-item",{attrs:{command:"3"}},[t._v("共享租赁")])],1)],1)],1),e("el-form-item",{attrs:{label:"货物描述"}},[e("el-input",{model:{value:t.form.goodDescription,callback:function(o){t.$set(t.form,"goodDescription",o)},expression:"form.goodDescription"}})],1)],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(o){t.editVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.saveEdit}},[t._v("确 定")])],1)],1),e("el-dialog",{attrs:{title:"修改货物信息",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(o){t.dialogVisible=o}}},[e("el-form",{ref:"form2",attrs:{model:t.form2,"label-width":"70px"}},[e("el-form-item",{attrs:{label:"货物名称"}},[e("el-input",{model:{value:t.form2.goodName,callback:function(o){t.$set(t.form2,"goodName",o)},expression:"form2.goodName"}})],1),e("el-form-item",{attrs:{label:"租赁单价"}},[e("el-input",{model:{value:t.form2.goodPrice,callback:function(o){t.$set(t.form2,"goodPrice",o)},expression:"form2.goodPrice"}})],1),e("el-form-item",{attrs:{label:"租赁模式"}},[e("el-dropdown",{on:{command:t.handleCommand2}},[e("el-button",{attrs:{type:"primary"}},[t._v("\n                            "+t._s(t.buttonName2)+"\n                            "),e("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e("el-dropdown-item",{attrs:{command:"1"}},[t._v("先租后买")]),e("el-dropdown-item",{attrs:{command:"2"}},[t._v("以租代售")]),e("el-dropdown-item",{attrs:{command:"3"}},[t._v("共享租赁")])],1)],1)],1),e("el-form-item",{attrs:{label:"货物描述"}},[e("el-input",{model:{value:t.form2.goodDescription,callback:function(o){t.$set(t.form2,"goodDescription",o)},expression:"form2.goodDescription"}})],1)],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(o){t.dialogVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.editGoods}},[t._v("确 定")])],1)],1)],1)],1)},s=[],n=(e("ac6a"),e("6b54"),{name:"bussinessGoods",data:function(){return{tableData:[],editVisible:!1,dialogVisible:!1,form:{},form2:{},status:"",buttonName:"先租后买",buttonName2:"先租后买"}},created:function(){this.getAllGoods()},methods:{addGoods:function(){this.editVisible=!0},getUUID:function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},saveEdit:function(){var t=this;this.$confirm("确定要新增吗？","提示",{type:"warning"}).then((function(){"先租后买"==t.buttonName?t.status=1:"以租代售"==t.buttonName?t.status=2:t.status=3;var o=localStorage.getItem("ms_username"),e=t.getUUID()+t.getUUID()+"-"+t.getUUID()+"-"+t.getUUID()+"-"+t.getUUID()+"-"+t.getUUID()+t.getUUID()+t.getUUID();t.form.goodNum=e,t.form.goodStatus=t.status,t.form.goodOwner=o,t.$http.post("/good/save",t.form).then((function(o){"200"==o.status?(t.$message.success("新增成功"),t.getAllGoods(),t.editVisible=!1):t.$message.error("新增失败"),console.log(o)})).catch((function(t){return console.log(t)}))})).catch((function(){}))},handleCommand:function(t){console.log(t),this.buttonName=1==t?"先租后买":2==t?"以租代售":"共享租赁"},handleCommand2:function(t){this.buttonName2=1==t?"先租后买":2==t?"以租代售":"共享租赁"},getAllGoods:function(){var t=this;this.tableData=[];var o=localStorage.getItem("ms_username");this.$http.get("/good/findGoodsByOwner?goodOwner="+o).then((function(o){console.log(o),o.data.forEach((function(t){"1"==t.goodStatus?t.goodStatus="先租后买":2==t.goodStatus?t.goodStatus="以租代售":3==t.goodStatus?t.goodStatus="共享租赁":t.goodStatus="空"})),o.data.forEach((function(o){"空"!=o.goodStatus&&t.tableData.push(o)})),console.log(o)})).catch((function(t){return console.log(t)}))},handleEdit:function(t,o){this.dialogVisible=!0,this.form2.goodNum=o.goodNum,this.form2.goodId=o.goodId,this.form2.goodDescription=o.goodDescription},handleDelete:function(t,o){var e=this;this.$confirm("确定要删除吗？","提示",{type:"warning"}).then((function(){console.log(o),e.$http.get("/good/delete?goodId="+o.goodId).then((function(o){"200"==o.status?(e.$message.success("删除成功"),e.tableData.splice(t,1)):e.$message.error("删除失败")}))})).catch((function(){}))},editGoods:function(){var t=this;"先租后买"==this.buttonName2?this.form2.goodStatus=1:"以租代售"==this.buttonName2?this.form2.goodStatus=2:this.form2.goodStatus=3,this.$http.post("/good/save",this.form2).then((function(o){"200"==o.status&&(t.dialogVisible=!1,t.getAllGoods(),t.$message.success("修改成功"))})).catch((function(t){console.log(t)}))}}}),i=n,l=e("2877"),r=Object(l["a"])(i,a,s,!1,null,"573f7564",null);o["default"]=r.exports}}]);
//# sourceMappingURL=bussinessGoods.3b921b42.js.map